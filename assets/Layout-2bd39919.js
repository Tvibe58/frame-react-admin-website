import{r as s,g as G,m as X,a as q,c as ue,C as T,u as me,b as k,t as fe,d as he,e as U,f as M,j as a,L as ve,l as xe,i as W,h as I,k as be,O as ye}from"./index-1c24566f.js";import{u as Y,S as Se}from"./index-06cac085.js";import{R as Ce,g as $e}from"./index-6253f650.js";import{r as je,i as Oe,g as ze,P as Pe,a as we,T as Ne,D as Ee,M as ke}from"./index-c938d00a.js";import{u as Re}from"./useBreakpoint-933b4d88.js";import{D as Be}from"./DownOutlined-8df8cb73.js";const Te=s.createContext({}),L=Te,Ie=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:o,avatarColor:i,containerSize:l,containerSizeLG:c,containerSizeSM:d,textFontSize:p,textFontSizeLG:h,textFontSizeSM:x,borderRadius:g,borderRadiusLG:u,borderRadiusSM:j,lineWidth:S,lineType:P}=e,O=(C,b,w)=>({width:C,height:C,lineHeight:`${C-S*2}px`,borderRadius:"50%",[`&${n}-square`]:{borderRadius:w},[`${n}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${n}-icon`]:{fontSize:b,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},q(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${S}px ${P} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),O(l,p,g)),{"&-lg":Object.assign({},O(c,h,u)),"&-sm":Object.assign({},O(d,x,j)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Le=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},Z=G("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=X(e,{avatarBg:n,avatarColor:t});return[Ie(r),Le(r)]},e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:o,fontSizeLG:i,fontSizeXL:l,fontSizeHeading3:c,marginXS:d,marginXXS:p,colorBorderBg:h}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((i+l)/2),textFontSizeLG:c,textFontSizeSM:o,groupSpace:p,groupOverlapping:-d,groupBorderColor:h}});var Me=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const _e=(e,t)=>{const[n,r]=s.useState(1),[o,i]=s.useState(!1),[l,c]=s.useState(!0),d=s.useRef(null),p=s.useRef(null),h=ue(t,d),{getPrefixCls:x,avatar:g}=s.useContext(T),u=s.useContext(L),j=()=>{if(!p.current||!d.current)return;const m=p.current.offsetWidth,f=d.current.offsetWidth;if(m!==0&&f!==0){const{gap:y=4}=e;y*2<f&&r(f-y*2<m?(f-y*2)/m:1)}};s.useEffect(()=>{i(!0)},[]),s.useEffect(()=>{c(!0),r(1)},[e.src]),s.useEffect(j,[e.gap]);const S=()=>{const{onError:m}=e;(m==null?void 0:m())!==!1&&c(!1)},{prefixCls:P,shape:O,size:C,src:b,srcSet:w,icon:$,className:E,rootClassName:te,alt:re,draggable:ne,children:_,crossOrigin:oe}=e,R=Me(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),v=me(m=>{var f,y;return(y=(f=C??(u==null?void 0:u.size))!==null&&f!==void 0?f:m)!==null&&y!==void 0?y:"default"}),se=Object.keys(typeof v=="object"?v||{}:{}).some(m=>["xs","sm","md","lg","xl","xxl"].includes(m)),A=Re(se),ae=s.useMemo(()=>{if(typeof v!="object")return{};const m=je.find(y=>A[y]),f=v[m];return f?{width:f,height:f,lineHeight:`${f}px`,fontSize:$?f/2:18}:{}},[A,v]),z=x("avatar",P),[le,ie]=Z(z),ce=k({[`${z}-lg`]:v==="large",[`${z}-sm`]:v==="small"}),H=s.isValidElement(b),de=O||(u==null?void 0:u.shape)||"circle",pe=k(z,ce,g==null?void 0:g.className,`${z}-${de}`,{[`${z}-image`]:H||b&&l,[`${z}-icon`]:!!$},E,te,ie),ge=typeof v=="number"?{width:v,height:v,lineHeight:`${v}px`,fontSize:$?v/2:18}:{};let N;if(typeof b=="string"&&l)N=s.createElement("img",{src:b,draggable:ne,srcSet:w,onError:S,alt:re,crossOrigin:oe});else if(H)N=b;else if($)N=$;else if(o||n!==1){const m=`scale(${n}) translateX(-50%)`,f={msTransform:m,WebkitTransform:m,transform:m},y=typeof v=="number"?{lineHeight:`${v}px`}:{};N=s.createElement(Ce,{onResize:j},s.createElement("span",{className:`${z}-string`,ref:p,style:Object.assign(Object.assign({},y),f)},_))}else N=s.createElement("span",{className:`${z}-string`,style:{opacity:0},ref:p},_);return delete R.onError,delete R.gap,le(s.createElement("span",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ge),ae),g==null?void 0:g.style),R.style),className:pe,ref:h}),N))},Ae=s.forwardRef(_e),J=Ae,B=e=>e?typeof e=="function"?e():e:null,He=e=>{const{componentCls:t,popoverColor:n,minWidth:r,fontWeightStrong:o,popoverPadding:i,boxShadowSecondary:l,colorTextHeading:c,borderRadiusLG:d,zIndexPopup:p,marginXS:h,colorBgElevated:x,popoverBg:g}=e;return[{[t]:Object.assign(Object.assign({},q(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":x,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:g,backgroundClip:"padding-box",borderRadius:d,boxShadow:l,padding:i},[`${t}-title`]:{minWidth:r,marginBottom:h,color:c,fontWeight:o},[`${t}-inner-content`]:{color:n}})},ze(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},We=e=>{const{componentCls:t}=e;return{[t]:Pe.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},De=e=>{const{componentCls:t,lineWidth:n,lineType:r,colorSplit:o,paddingSM:i,controlHeight:l,fontSize:c,lineHeight:d,padding:p}=e,h=l-Math.round(c*d),x=h/2,g=h/2-n,u=p;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${x}px ${u}px ${g}px`,borderBottom:`${n}px ${r} ${o}`},[`${t}-inner-content`]:{padding:`${i}px ${u}px`}}}},K=G("Popover",e=>{const{colorBgElevated:t,colorText:n,wireframe:r}=e,o=X(e,{popoverPadding:12,popoverBg:t,popoverColor:n});return[He(o),We(o),r&&De(o),Oe(o,"zoom-big")]},e=>({width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]});var Fe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ge=(e,t,n)=>{if(!(!t&&!n))return s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${e}-title`},B(t)),s.createElement("div",{className:`${e}-inner-content`},B(n)))},Xe=e=>{const{hashId:t,prefixCls:n,className:r,style:o,placement:i="top",title:l,content:c,children:d}=e;return s.createElement("div",{className:k(t,n,`${n}-pure`,`${n}-placement-${i}`,r),style:o},s.createElement("div",{className:`${n}-arrow`}),s.createElement(we,Object.assign({},e,{className:t,prefixCls:n}),d||Ge(n,l,c)))},qe=e=>{const{prefixCls:t}=e,n=Fe(e,["prefixCls"]),{getPrefixCls:r}=s.useContext(T),o=r("popover",t),[i,l]=K(o);return i(s.createElement(Xe,Object.assign({},n,{prefixCls:o,hashId:l})))},Ue=qe;var Ye=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ze=e=>{let{title:t,content:n,prefixCls:r}=e;return s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${r}-title`},B(t)),s.createElement("div",{className:`${r}-inner-content`},B(n)))},Q=s.forwardRef((e,t)=>{const{prefixCls:n,title:r,content:o,overlayClassName:i,placement:l="top",trigger:c="hover",mouseEnterDelay:d=.1,mouseLeaveDelay:p=.1,overlayStyle:h={}}=e,x=Ye(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:g}=s.useContext(T),u=g("popover",n),[j,S]=K(u),P=g(),O=k(i,S);return j(s.createElement(Ne,Object.assign({placement:l,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:p,overlayStyle:h},x,{prefixCls:u,overlayClassName:O,ref:t,overlay:r||o?s.createElement(Ze,{prefixCls:u,title:r,content:o}):null,transitionName:$e(P,"zoom-big",x.transitionName),"data-popover-inject":!0})))});Q._InternalPanelDoNotUseOrYouWillBeFired=Ue;const Je=Q,D=e=>{const{size:t,shape:n}=s.useContext(L),r=s.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return s.createElement(L.Provider,{value:r},e.children)},Ke=e=>{const{getPrefixCls:t,direction:n}=s.useContext(T),{prefixCls:r,className:o,rootClassName:i,style:l,maxCount:c,maxStyle:d,size:p,shape:h,maxPopoverPlacement:x="top",maxPopoverTrigger:g="hover",children:u}=e,j=t("avatar",r),S=`${j}-group`,[P,O]=Z(j),C=k(S,{[`${S}-rtl`]:n==="rtl"},o,i,O),b=fe(u).map(($,E)=>he($,{key:`avatar-key-${E}`})),w=b.length;if(c&&c<w){const $=b.slice(0,c),E=b.slice(c,w);return $.push(s.createElement(Je,{key:"avatar-popover-key",content:E,trigger:g,placement:x,overlayClassName:`${S}-popover`},s.createElement(J,{style:d},`+${w-c}`))),P(s.createElement(D,{shape:h,size:p},s.createElement("div",{className:C,style:l},$)))}return P(s.createElement(D,{shape:h,size:p},s.createElement("div",{className:C,style:l},b)))},Qe=Ke,V=J;V.Group=Qe;const Ve=V,et=[{key:"1",label:a.jsx("span",{children:"Log out"})}],tt=()=>{const e=Y(),t=U(),n=M(o=>o.user.name),r=({key:o})=>{o==="1"&&(e(xe()),t("/login"))};return a.jsxs("div",{className:"topbar",children:[a.jsx("div",{className:"left",children:a.jsx(ve,{to:"/",children:a.jsx("div",{className:"title",children:"React Admin"})})}),a.jsxs("div",{className:"right",children:[a.jsx(Se,{}),a.jsx(Ve,{size:"small",style:{backgroundColor:"#fff",color:"rgba(23,72,200,1)"},children:n.charAt(0)}),a.jsx("div",{className:"user",children:a.jsx("div",{className:"name",children:n})}),a.jsx("div",{className:"dropdown",children:a.jsx(Ee,{menu:{items:et,onClick:r},children:a.jsx("a",{onClick:o=>o.preventDefault(),children:a.jsx(Be,{})})})})]})]})};function F(e,t,n,r,o){return{key:t,icon:n,children:r,label:e,path:o}}const ee=e=>e.map(t=>t.children?F(W.t("menus."+t.label,t.label),t.path,t.icon,ee(t.children)):F(W.t("menus."+t.label,t.label),t.path,t.icon)),rt=e=>{const{isCollapsed:t,menuRouters:n}=e,r=U(),o=i=>{r(i.key||"/")};return a.jsx(ke,{onClick:o,defaultSelectedKeys:[location.pathname],mode:"inline",inlineCollapsed:t,items:ee(n),className:"siderbarMenu",getPopupContainer:function(l){return l.parentNode}})};const nt=e=>{const{isActive:t,toggleClick:n}=e;return a.jsx("div",{className:"com-toggle",onClick:n,children:a.jsx("svg",{className:t?"is-active":"",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:a.jsx("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"})})})},ot=()=>{let e=[],t=[];I&&I.length>0&&(e=I.filter(o=>o.isRoot),t=e[0].children||[]);const n=M(o=>o.app.sidebar.opened),r=Y();return a.jsxs("div",{className:"sidebar-container",children:[a.jsx("div",{className:"scrollbar-wrapper",children:a.jsx(rt,{isCollapsed:n,menuRouters:t})}),a.jsx("div",{className:"collapse",children:a.jsx(nt,{isActive:!n,toggleClick:()=>r(be())})})]})},pt=()=>{const e=M(t=>t.app.sidebar.opened);return a.jsxs("div",{className:`app-wrapper${e?" hideSidebar":""}`,children:[a.jsx("div",{className:"topbar-container",children:a.jsx(tt,{})}),a.jsx(ot,{}),a.jsx("div",{className:"main-container",children:a.jsx("div",{className:"app-container",children:a.jsx(ye,{})})})]})};export{pt as default};
